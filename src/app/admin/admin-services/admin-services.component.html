<!-- Navbar -->
<nav class="navbar navbar-dark bg-primary mb-3">
  <div class="container-fluid">
    <a class="navbar-brand">Services</a>
    <form class="d-flex" role="search" (submit)="$event.preventDefault()">
      <input
        class="form-control me-2"
        type="search"
        placeholder="Search"
        aria-label="Search"
        formControlName="search"
      />

      <button
        class="btn btn-success d-flex gap-2"
        type="button"
        [routerLink]="['/administration/main/create-service']"
      >
        <i class="bi bi-plus"></i>
        New
      </button>
    </form>
  </div>
</nav>
<div class="d-flex align-items-center justify-content-start mb-3 gap-3">
  <!-- Service Type -->
  <div class="form-floating">
    <select class="form-select" [formControl]="typeControl" id="floatingSelect">
      <option *ngFor="let item of type$" [value]="item">{{ item }}</option>
    </select>
    <label for="floatingSelect">Service Type</label>
  </div>
</div>
<!-- Services Table -->
<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">Title</th>
      <th scope="col">Type</th>
      <th scope="col">Description</th>
      <th scope="col">Updated At</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let service of services; let i = index">
      <th scope="row">{{ i + 1 + (page - 1) * pageSize }}</th>
      <td>{{ service.title }}</td>
      <td>{{ service.type }}</td>
      <td>{{ service.description }}</td>
      <td>{{ service.updatedAt | date : "short" }}</td>
    </tr>
    <tr *ngIf="services.length === 0 && !isLoading">
      <td colspan="5" class="text-center">No services found.</td>
    </tr>
  </tbody>
</table>

<!-- Pagination Controls -->
<div class="d-flex justify-content-between align-items-center p-2">
  <ngb-pagination
    [collectionSize]="collectionSize"
    [(page)]="page"
    [pageSize]="pageSize"
    [maxSize]="5"
    [boundaryLinks]="true"
    (pageChange)="refreshServices()"
  >
  </ngb-pagination>

  <!-- Optional: page size selector -->
  <select
    class="form-select"
    style="width: auto"
    [(ngModel)]="pageSize"
    (ngModelChange)="refreshServices()"
  >
    <option [ngValue]="5">5 items per page</option>
    <option [ngValue]="10">10 items per page</option>
    <option [ngValue]="25">25 items per page</option>
    <option [ngValue]="50">50 items per page</option>
  </select>
</div>
